<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN" "https://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">
<html xmlns="http://www.w3.org/1999/xhtml" lang="en-US">
<head>
<meta http-equiv="Content-Type" content="text/xhtml;charset=UTF-8"/>
<meta http-equiv="X-UA-Compatible" content="IE=11"/>
<meta name="generator" content="Doxygen 1.14.0"/>
<meta name="viewport" content="width=device-width, initial-scale=1"/>
<title>Apollo C++ Client: apollo::client::ApolloClient Class Reference</title>
<link href="tabs.css" rel="stylesheet" type="text/css"/>
<script type="text/javascript" src="jquery.js"></script>
<script type="text/javascript" src="dynsections.js"></script>
<script type="text/javascript" src="clipboard.js"></script>
<link href="navtree.css" rel="stylesheet" type="text/css"/>
<script type="text/javascript" src="navtreedata.js"></script>
<script type="text/javascript" src="navtree.js"></script>
<script type="text/javascript" src="cookie.js"></script>
<link href="search/search.css" rel="stylesheet" type="text/css"/>
<script type="text/javascript" src="search/searchdata.js"></script>
<script type="text/javascript" src="search/search.js"></script>
<link href="doxygen.css" rel="stylesheet" type="text/css" />
</head>
<body>
<div id="top"><!-- do not remove this div, it is closed by doxygen! -->
<div id="titlearea">
<table cellspacing="0" cellpadding="0">
 <tbody>
 <tr id="projectrow">
  <td id="projectalign">
   <div id="projectname">Apollo C++ Client
   </div>
   <div id="projectbrief">C++ client for Apollo Configuration Center</div>
  </td>
 </tr>
 </tbody>
</table>
</div>
<!-- end header part -->
<!-- Generated by Doxygen 1.14.0 -->
<script type="text/javascript">
var searchBox = new SearchBox("searchBox", "search/",'.html');
</script>
<script type="text/javascript">
$(function() { codefold.init(); });
</script>
<script type="text/javascript" src="menudata.js"></script>
<script type="text/javascript" src="menu.js"></script>
<script type="text/javascript">
$(function() {
  initMenu('',true,false,'search.php','Search',true);
  $(function() { init_search(); });
});
</script>
<div id="main-nav"></div>
</div><!-- top -->
<div id="side-nav" class="ui-resizable side-nav-resizable">
  <div id="nav-tree">
    <div id="nav-tree-contents">
      <div id="nav-sync" class="sync"></div>
    </div>
  </div>
  <div id="splitbar" style="-moz-user-select:none;" 
       class="ui-resizable-handle">
  </div>
</div>
<script type="text/javascript">
$(function(){initNavTree('classapollo_1_1client_1_1_apollo_client.html','','classapollo_1_1client_1_1_apollo_client-members'); });
</script>
<div id="container">
<div id="doc-content">
<!-- window showing the filter options -->
<div id="MSearchSelectWindow"
     onmouseover="return searchBox.OnSearchSelectShow()"
     onmouseout="return searchBox.OnSearchSelectHide()"
     onkeydown="return searchBox.OnSearchSelectKey(event)">
</div>

<!-- iframe showing the search results (closed by default) -->
<div id="MSearchResultsWindow">
<div id="MSearchResults">
<div class="SRPage">
<div id="SRIndex">
<div id="SRResults"></div>
<div class="SRStatus" id="Loading">Loading...</div>
<div class="SRStatus" id="Searching">Searching...</div>
<div class="SRStatus" id="NoMatches">No Matches</div>
</div>
</div>
</div>
</div>

<div class="header">
  <div class="headertitle"><div class="title">apollo::client::ApolloClient Class Reference<span class="mlabels"><span class="mlabel abstract">abstract</span></span></div></div>
</div><!--header-->
<div class="contents">

<p>Interface for the Apollo configuration center client.  
 <a href="#details">More...</a></p>

<p><code>#include &lt;<a class="el" href="apollo__client_8h_source.html">apollo_client.h</a>&gt;</code></p>
<table class="memberdecls">
<tr class="heading"><td colspan="2"><h2 id="header-pub-methods" class="groupheader"><a id="pub-methods" name="pub-methods"></a>
Public Member Functions</h2></td></tr>
<tr class="memitem:a93c51b8cc3dd38b6a466938973c933e0" id="r_a93c51b8cc3dd38b6a466938973c933e0"><td class="memItemLeft" align="right" valign="top"><a id="a93c51b8cc3dd38b6a466938973c933e0" name="a93c51b8cc3dd38b6a466938973c933e0"></a>
virtual&#160;</td><td class="memItemRight" valign="bottom"><b>~ApolloClient</b> ()=default</td></tr>
<tr class="memdesc:a93c51b8cc3dd38b6a466938973c933e0"><td class="mdescLeft">&#160;</td><td class="mdescRight">Virtual destructor to ensure proper cleanup in derived classes. <br /></td></tr>
<tr class="memitem:a6c8f28420f597dab41b40dd799ac00c6" id="r_a6c8f28420f597dab41b40dd799ac00c6"><td class="memItemLeft" align="right" valign="top">virtual void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="#a6c8f28420f597dab41b40dd799ac00c6">startLongPolling</a> (int long_polling_interval_ms=<a class="el" href="apollo__types_8h.html#a959bb7ddb83bc4f2176a60c90c69e83c">long_poller_interval_default</a>)=0</td></tr>
<tr class="memdesc:a6c8f28420f597dab41b40dd799ac00c6"><td class="mdescLeft">&#160;</td><td class="mdescRight">Starts a long polling thread for configuration updates.  <br /></td></tr>
<tr class="memitem:a43cc7ab408346971c1c1791d4f3dd6c6" id="r_a43cc7ab408346971c1c1791d4f3dd6c6"><td class="memItemLeft" align="right" valign="top">virtual void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="#a43cc7ab408346971c1c1791d4f3dd6c6">stopLongPolling</a> ()=0</td></tr>
<tr class="memdesc:a43cc7ab408346971c1c1791d4f3dd6c6"><td class="mdescLeft">&#160;</td><td class="mdescRight">Stops the long polling thread.  <br /></td></tr>
<tr class="memitem:a0cc9d82422485735d5e8b351d73da6e8" id="r_a0cc9d82422485735d5e8b351d73da6e8"><td class="memItemLeft" align="right" valign="top">virtual <a class="el" href="apollo__types_8h.html#ad68bbd8ab75d3434eb689eec7620e616">Configures</a>&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="#a0cc9d82422485735d5e8b351d73da6e8">getConfigures</a> (const <a class="el" href="apollo__types_8h.html#a55454c6c92726d53ce0cdc7edf0f3501">NamespaceType</a> &amp;s_namespace)=0</td></tr>
<tr class="memdesc:a0cc9d82422485735d5e8b351d73da6e8"><td class="mdescLeft">&#160;</td><td class="mdescRight">Retrieves configuration values from the <a class="el" href="classapollo_1_1client_1_1_apollo_client.html" title="Interface for the Apollo configuration center client.">ApolloClient</a> cache.  <br /></td></tr>
<tr class="memitem:a2054a0e56bd2304464a03e3cf4c02dc9" id="r_a2054a0e56bd2304464a03e3cf4c02dc9"><td class="memItemLeft" align="right" valign="top">virtual void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="#a2054a0e56bd2304464a03e3cf4c02dc9">setNotificationsListener</a> (NotificationCallbackPtr notificationCallback)=0</td></tr>
<tr class="memdesc:a2054a0e56bd2304464a03e3cf4c02dc9"><td class="mdescLeft">&#160;</td><td class="mdescRight">Sets a callback for configuration change notifications.  <br /></td></tr>
</table>
<a name="details" id="details"></a><h2 id="header-details" class="groupheader">Detailed Description</h2>
<div class="textblock"><p>Interface for the Apollo configuration center client. </p>
<p>This interface allows applications to access and monitor configuration data stored in Apollo Configuration Center. It provides methods for retrieving configurations and receiving notifications when configuration changes occur. </p>
</div><a name="doc-func-members" id="doc-func-members"></a><h2 id="header-doc-func-members" class="groupheader">Member Function Documentation</h2>
<a id="a0cc9d82422485735d5e8b351d73da6e8" name="a0cc9d82422485735d5e8b351d73da6e8"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a0cc9d82422485735d5e8b351d73da6e8">&#9670;&#160;</a></span>getConfigures()</h2>

<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">virtual <a class="el" href="apollo__types_8h.html#ad68bbd8ab75d3434eb689eec7620e616">Configures</a> apollo::client::ApolloClient::getConfigures </td>
          <td>(</td>
          <td class="paramtype">const <a class="el" href="apollo__types_8h.html#a55454c6c92726d53ce0cdc7edf0f3501">NamespaceType</a> &amp;</td>          <td class="paramname"><span class="paramname"><em>s_namespace</em></span></td><td>)</td>
          <td></td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel pure-virtual">pure virtual</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p>Retrieves configuration values from the <a class="el" href="classapollo_1_1client_1_1_apollo_client.html" title="Interface for the Apollo configuration center client.">ApolloClient</a> cache. </p>
<p>Returns the configuration key-value pairs for the specified namespace. The values are retrieved from the <a class="el" href="classapollo_1_1client_1_1_apollo_client.html" title="Interface for the Apollo configuration center client.">ApolloClient</a>'s local cache, which is updated by the long polling thread.</p>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramname">s_namespace</td><td>The namespace to retrieve configurations from </td></tr>
  </table>
  </dd>
</dl>
<dl class="section return"><dt>Returns</dt><dd>A map of configuration key-value pairs</dd></dl>
<dl class="section note"><dt>Note</dt><dd>Returns an empty map if the namespace is not in the configured namespaces list or if the namespace has no configurations. If long polling has not been started, this will return only the initial configuration loaded at <a class="el" href="classapollo_1_1client_1_1_apollo_client.html" title="Interface for the Apollo configuration center client.">ApolloClient</a> creation. </dd></dl>

</div>
</div>
<a id="a2054a0e56bd2304464a03e3cf4c02dc9" name="a2054a0e56bd2304464a03e3cf4c02dc9"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a2054a0e56bd2304464a03e3cf4c02dc9">&#9670;&#160;</a></span>setNotificationsListener()</h2>

<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">virtual void apollo::client::ApolloClient::setNotificationsListener </td>
          <td>(</td>
          <td class="paramtype">NotificationCallbackPtr</td>          <td class="paramname"><span class="paramname"><em>notificationCallback</em></span></td><td>)</td>
          <td></td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel pure-virtual">pure virtual</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p>Sets a callback for configuration change notifications. </p>
<p>Registers a callback function that will be invoked whenever configuration changes are detected. The callback receives the namespace that changed, the old and new configurations, and a detailed list of changes (added, modified, deleted items).</p>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramname">notificationCallback</td><td>A weak pointer to the callback function. Using a weak pointer ensures that the client doesn't hold a reference to an object that might be destroyed.</td></tr>
  </table>
  </dd>
</dl>
<dl class="section note"><dt>Note</dt><dd>It's recommended to set the callback before calling <a class="el" href="#a6c8f28420f597dab41b40dd799ac00c6" title="Starts a long polling thread for configuration updates.">startLongPolling()</a> to avoid missing any changes. The callback should be thread-safe as it's called from a background thread. This function can be called repeatedly to change the callback. </dd></dl>

</div>
</div>
<a id="a6c8f28420f597dab41b40dd799ac00c6" name="a6c8f28420f597dab41b40dd799ac00c6"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a6c8f28420f597dab41b40dd799ac00c6">&#9670;&#160;</a></span>startLongPolling()</h2>

<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">virtual void apollo::client::ApolloClient::startLongPolling </td>
          <td>(</td>
          <td class="paramtype">int</td>          <td class="paramname"><span class="paramname"><em>long_polling_interval_ms</em></span><span class="paramdefsep"> = </span><span class="paramdefval"><a class="el" href="apollo__types_8h.html#a959bb7ddb83bc4f2176a60c90c69e83c">long_poller_interval_default</a></span></td><td>)</td>
          <td></td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel pure-virtual">pure virtual</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p>Starts a long polling thread for configuration updates. </p>
<p>Starts a background thread that periodically polls the Apollo server for configuration updates. When changes are detected, the notification callback (if set) will be invoked from the background thread.</p>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramname">long_polling_interval_ms</td><td>Interval in milliseconds between polling requests. If set to 0 or negative, long polling thread will not be started and configuration will not be updated.</td></tr>
  </table>
  </dd>
</dl>
<dl class="section note"><dt>Note</dt><dd>This method is non-blocking; it starts the polling thread and returns immediately. </dd></dl>

</div>
</div>
<a id="a43cc7ab408346971c1c1791d4f3dd6c6" name="a43cc7ab408346971c1c1791d4f3dd6c6"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a43cc7ab408346971c1c1791d4f3dd6c6">&#9670;&#160;</a></span>stopLongPolling()</h2>

<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">virtual void apollo::client::ApolloClient::stopLongPolling </td>
          <td>(</td>
          <td class="paramname"><span class="paramname"><em></em></span></td><td>)</td>
          <td></td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel pure-virtual">pure virtual</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p>Stops the long polling thread. </p>
<p>Stops the background polling thread if it's running. After calling this method, no further configuration updates will be received and no callbacks will be triggered. This method blocks until the polling thread has terminated. </p>

</div>
</div>
<hr/>The documentation for this class was generated from the following file:<ul>
<li>include/apollo/<a class="el" href="apollo__client_8h_source.html">apollo_client.h</a></li>
</ul>
</div><!-- contents -->
</div><!-- doc-content -->
<div id="page-nav" class="page-nav-panel">
<div id="page-nav-resize-handle"></div>
<div id="page-nav-tree">
<div id="page-nav-contents">
</div><!-- page-nav-contents -->
</div><!-- page-nav-tree -->
</div><!-- page-nav -->
</div><!-- container -->
<!-- start footer part -->
<div id="nav-path" class="navpath"><!-- id is needed for treeview function! -->
  <ul>
    <li class="navelem"><b>apollo</b></li><li class="navelem"><b>client</b></li><li class="navelem"><a href="classapollo_1_1client_1_1_apollo_client.html">ApolloClient</a></li>
    <li class="footer">Generated by <a href="https://www.doxygen.org/index.html"><img class="footer" src="doxygen.svg" width="104" height="31" alt="doxygen"/></a> 1.14.0 </li>
  </ul>
</div>
</body>
</html>
